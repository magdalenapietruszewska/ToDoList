(this["webpackJsonpto-do"]=this["webpackJsonpto-do"]||[]).push([[0],{10:function(e,t,n){e.exports=n(16)},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(9),r=n.n(o);n(15),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(2),s=n(5),l=n(1),u=(n(8),n(6)),m=function(e){var t=e.description,n=e.addTimeSpent,o=e.lastTimeSpent,r=e.status,i=Object(a.useState)(o),s=Object(l.a)(i,2),u=s[0],m=s[1],p=Object(a.useState)(!1),f=Object(l.a)(p,2),d=f[0],b=f[1],h=Object(a.useState)(!1),g=Object(l.a)(h,2),j=g[0],v=g[1],E=Object(a.useState)(!1),O=Object(l.a)(E,2),y=O[0],N=O[1],S=Object(a.useState)(!1),k=Object(l.a)(S,2),C=k[0],T=k[1];return Object(a.useEffect)((function(){if(!0===d){var e=setInterval((function(){m((function(e){return e+1}))}),1e3);return!0===j&&clearInterval(e),function(){clearInterval(e)}}}),[d,j]),c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},t,!1===d&&!1===y&&"open"===r&&c.a.createElement("div",null,c.a.createElement("button",{className:"btn btn-primary",onClick:function(){N(!0)}},"Add time manually"),c.a.createElement("button",{className:"btn btn-primary ml-3",onClick:function(){b(!0)}},"Start timer")),!0===d&&!1===C&&"open"===r&&c.a.createElement("div",null,c.a.createElement("span",{className:"btn btn-warning"},"Czas: ",u),c.a.createElement("button",{className:"btn btn-primary ml-3",onClick:function(){v(!0),T(!0),n(u,t)}},"Stop timer")),!0===y&&!1===C&&"open"===r&&c.a.createElement("form",{className:"d-flex",onSubmit:function(e){return function(e){e.preventDefault(),T(!0),v(!0),n(u,t)}(e)}},c.a.createElement("input",{type:"text",className:"form-control",name:"time",placeholder:"Type in spend time",onChange:function(e){return m(e.target.value)}}),c.a.createElement("button",{className:"btn btn-primary ml-3"},"Save")),!0===C&&c.a.createElement("span",{className:"badge badge-primary badge-pill"},"Czas: ",u)))},p=function(e){var t=e.id,n=e.title,o=e.taskDescription,r=e.prevOperations,s=e.prevStatus,p=e.allTasks,f=Object(a.useState)([]),d=Object(l.a)(f,2),b=d[0],h=d[1],g=Object(a.useState)(r),j=Object(l.a)(g,2),v=j[0],E=(j[1],Object(a.useState)(s)),O=Object(l.a)(E,2),y=O[0],N=O[1],S="http://localhost:3000",k=function(e,n){var a={operations:[].concat(Object(u.a)(v),[{description:n,timeSpent:e}])};fetch("".concat(S,"/tasks/").concat(t),{method:"PATCH",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))};return c.a.createElement("section",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h5",{className:"card-title"},n),c.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},o),"open"===y&&c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{href:"#",className:"card-link",onClick:function(){return function(e){N("close");fetch("".concat(S,"/tasks/").concat(e),{method:"PATCH",body:JSON.stringify({status:"close"}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}(t)}},"Finish"),c.a.createElement("form",{className:"mt-3"},c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"text",className:"form-control",name:"description",placeholder:"Operation description",onChange:function(e){var t=e.target,n=t.name,a=t.value;h((function(){return Object(i.a)({},n,a)}))}})),"open"===y&&c.a.createElement("input",{type:"submit",value:"Add operation to task",className:"btn btn-primary",onClick:function(e){return function(e,t,n){var a=n.description;e.preventDefault();console.log(a,0);var c={operations:[].concat(Object(u.a)(v),[{description:a,timeSpent:0}])};console.log(c),fetch("".concat(S,"/tasks/").concat(t),{method:"PATCH",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){p()})).catch((function(e){console.log(e)})),console.log(v),console.log(r)}(e,t,b)}})))),c.a.createElement("ul",{className:"list-group list-group-flush"},void 0!==r&&r.map((function(e,n){return c.a.createElement(m,{key:n,description:e.description,addTimeSpent:k,id:t,lastTimeSpent:e.timeSpent,status:y})}))))},f=function(){var e=Object(a.useState)({id:"",title:"",description:"",status:"open",operations:[]}),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)([]),u=Object(l.a)(r,2),m=u[0],f=u[1],d=function(e){var t=e.target,n=t.name,a=t.value;o((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(i.a)({},n,a))}))},b=function(){fetch("".concat("http://localhost:3000","/tasks")).then((function(e){return e.json()})).then((function(e){f(e)})).catch((function(e){console.log("error")}))};return Object(a.useEffect)((function(){b()}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"jumbotron"},c.a.createElement("h1",{className:"display-4"},"Add new task"),c.a.createElement("form",{onSubmit:function(){fetch("".concat("http://localhost:3000","/tasks"),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"text",className:"form-control",name:"title",placeholder:"Title",value:n.title,onChange:d})),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"text",className:"form-control",name:"description",placeholder:"Description",value:n.description,onChange:d})),c.a.createElement("input",{type:"submit",className:"btn btn-primary"}))),m.map((function(e){return c.a.createElement(p,{id:e.id,key:e.id,title:e.title,taskDescription:e.description,prevOperations:e.operations,prevStatus:e.status,allTasks:b})})))};r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.65bae2d0.chunk.js.map